function DataTradeLGC(t,s,e,a){t.payForData=r=>{if(e.confirm("Confirm data purchase")){r.preventDefault();const e=r.target,o=e.getAttribute("data-url");e.setAttribute("disabled","disabled");let i={network_provider:t.states.carrrier_name,phone:t.models.phone,product_id:t.models.data_product.id};i.timestamp=Date.now()||Date.getTime(),i=JSON.stringify(i),config={"Content-Type":"application/json"},t.states.progress.PayForDataformProgressNotif=a.setProgressMessage("Waiting for server response..."),s.post(o,i,config).then(s=>{console.log(s.data),1==s.data.success?t.states.progress.PayForDataformProgressNotif=a.setSuccessMessage(s.data.msg):t.states.progress.PayForDataformProgressNotif=a.setErrorMessage(s.data.msg),e.removeAttribute("disabled")},s=>{e.removeAttribute("disabled"),t.states.progress.PayForDataformProgressNotif=a.setErrorMessage(s.statusText),console.log(s)})}},t.getProductofCats=(e,r)=>{t.states.productList=[];const o=t.models.carrier.split("+");t.states.cat_id=o[0],t.states.carrrier_name=o[1],t.states.progress.PayForDataformProgressNotif=a.setProgressMessage("Loading products..."),s.get(r+"/"+t.states.cat_id+"/"+t.states.authToken).then(s=>{1==s.data.success?t.states.productList=s.data.msg.filter(t=>"1"!==t.is_disable):toastr.error(s.data.msg),t.states.progress.PayForDataformProgressNotif=""},s=>{console.log(s),t.states.progress.PayForDataformProgressNotif=""})},t.getDataProductDetailsOnChange=()=>{const s=t.models.data_product;if(void 0===s)return void(t.states.discount_amount=null);const e=+s.pcost,a=+s.pdiscount;t.states.discount_amount=e-a-+t.states.dataBundleServiceCharge*e},t.calcDataEPinNetPrice=e=>{if(t.models.units<1)return;t.states.displayBusinessNameField=t.models.units>=t.states.minUnitForPinCustomization;let r=a.extractFormData("BuyDataCardEPinFrm");(r=JSON.parse(r)).data_products=t.models.data_product.pname,t.states.calculatingAmount=a.setProgressMessage("Calculating Net price"),t.models.amount="",s.post(t.states.calculateEPinNetPriceUrl,r).then(s=>{!0===s.data.success?(t.states.calculatingAmount="",t.models.amount=s.data.msg):t.states.calculatingAmount=s.data.msg},s=>{alert(s.statusText),t.states.calculatingAmount=""})},t.LoadDataEPin=r=>{r.preventDefault();const o=r.target,i=o.getAttribute("data-url");o.setAttribute("disabled","disabled");let d=a.extractFormData("LoadDataCardEPinFrm");(d=JSON.parse(d)).data_products=t.models.data_product.pname,e.scrollTo(0,10),t.states.progress.LoadDataCardEPinFrmNotif=a.setProgressMessage("Waiting for server response..."),s.post(i,d,{"Content-Type":"application/json"}).then(s=>{console.log(s.data),1==s.data.success?t.states.progress.LoadDataCardEPinFrmNotif=a.setSuccessMessage(s.data.msg):t.states.progress.LoadDataCardEPinFrmNotif=a.setErrorMessage(s.data.msg),o.removeAttribute("disabled")},s=>{o.removeAttribute("disabled"),t.states.progress.LoadDataCardEPinFrmNotif=a.setErrorMessage(s.statusText),console.log(s)})},t.buyDataEPin=r=>{if(confirm("Confirm to Proceed")){r.preventDefault();const o=r.target,i=o.getAttribute("data-url");o.setAttribute("disabled","disabled");let d=a.extractFormData("BuyDataCardEPinFrm");(d=JSON.parse(d)).data_products=t.models.data_product.pname,e.scrollTo(0,10),t.states.progress.BuyDataCardEPinFrmNotif=a.setProgressMessage("Waiting for server response..."),s.post(i,d,{"Content-Type":"application/json"}).then(s=>{console.log(s.data),1==s.data.success?(t.states.progress.BuyDataCardEPinFrmNotif=a.setSuccessMessage(s.data.msg),t.states.DataEPinSold=s.data.pins,t.states.carrier=t.models.carrier.split("+")[1],$("#EPinModal").modal("show")):t.states.progress.BuyDataCardEPinFrmNotif=a.setErrorMessage(s.data.msg),o.removeAttribute("disabled")},s=>{o.removeAttribute("disabled"),t.states.progress.BuyDataCardEPinFrmNotif=a.setErrorMessage(s.statusText),console.log(s)})}},t.applyAsDataCardReseller=r=>{r.preventDefault();const o=r.target,i=o.getAttribute("data-url");o.setAttribute("disabled","disabled");const d=a.extractFormData("ApplyForDataCardResellerFrm");e.scrollTo(0,10),t.states.progress.ApplyForDataCardResellerProgressNotif=a.setProgressMessage("Waiting for server response..."),s.post(i,d,{"Content-Type":"application/json"}).then(s=>{console.log(s.data),1==s.data.success?t.states.progress.ApplyForDataCardResellerProgressNotif=a.setSuccessMessage(s.data.msg):t.states.progress.ApplyForDataCardResellerProgressNotif=a.setErrorMessage(s.data.msg),o.removeAttribute("disabled")},s=>{o.removeAttribute("disabled"),t.states.progress.ApplyForDataCardResellerProgressNotif=a.setErrorMessage(s.statusText),console.log(s)})},t.downloadPDF=t=>{const s=t.target,e=s.getAttribute("data-filename"),a=s.getAttribute("data-fileId"),r=new jsPDF("p","pt","letter"),o=$("#"+a).html(),i={top:80,bottom:60,left:40,width:522};r.fromHTML(o,i.left,i.top,{width:i.width,elementHandlers:{"#bypassme":function(t,s){return!0}}},(function(t){}),i),r.save(e+".pdf")}}