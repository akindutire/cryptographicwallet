function BillLGC(e,t,s,o){e.proceedToPayBills=function(){if(typeof e.models.meter_no_or_smartcard!==undefined||null!==e.models.meter_no_or_smartcard){var t=!0===e.models.service_options.hasProductList?1:0;window.location=e.states.PaybillUrl+"/"+e.models.meter_no_or_smartcard+"/"+e.models.service_options.product_id+"/"+e.models.service_type.service_id+"/"+t}else alert("No smartcard found")},e.verifyMeterNoOrSmartCard=function(o){o.preventDefault();const r=o.target,a=r.getAttribute("data-url");if(r.setAttribute("disabled","disabled"),!1===e.models.service_options.hasValidate)return alert("Validation is not available for this bill option"),void e.proceedToPayBills();data={service_type_id:e.models.service_type.service_id,service_type_option_product_id:e.models.service_options.product_id,meter_no_or_smartcard:e.models.meter_no_or_smartcard},data=JSON.stringify(data),e.states.progress.VerifyMeterNoformProgressNotif=s.setProgressMessage("Waiting for server response"),t.post(a,data,{"Content-Type":"*/*"}).then((function(t){console.log(t.data),!0===t.data.success?(e.states.smartDetailsObj=t.data.msg,e.states.proceedToPayBills=!0,e.states.progress.VerifyMeterNoformProgressNotif="",$("#SeeSmartNoDetails").modal("show")):(e.states.proceedToPayBills=!1,e.states.progress.VerifyMeterNoformProgressNotif=s.setErrorMessage(t.data.msg)),r.removeAttribute("disabled")}),(function(t){r.removeAttribute("disabled"),e.states.progress.VerifyMeterNoformProgressNotif=s.setErrorMessage(t.statusText),console.log(t)}))},e.payElectricityBill=function(r){if(o.confirm("Confirm electricity bill transaction")){r.preventDefault();const o=r.target,a=o.getAttribute("data-url");o.setAttribute("disabled","disabled");const i=s.extractFormData("ElectricityModeFrm"),c={"Content-Type":"*/*"};e.states.progress.PayBillForElectricityformProgressNotif=s.setProgressMessage("Waiting for server response..."),t.post(a,i,c).then((function(t){console.log(t.data),1==t.data.success?(e.states.progress.PayBillForElectricityformProgressNotif=s.setSuccessMessage("response.data.msg"),e.states.tradeReceipt=t.data.receipt,$("#TradeReceiptModal").modal("show")):e.states.progress.PayBillForElectricityformProgressNotif=s.setErrorMessage(t.data.msg),o.removeAttribute("disabled")}),(function(t){o.removeAttribute("disabled"),e.states.progress.PayBillForElectricityformProgressNotif=s.setErrorMessage(t.statusText),console.log(t)}))}},e.getBillProductOptionsAccordingToCategoryForNonElectricity=function(o){Promise=t.get(o),e.states.progress.payNonElectricityBill=s.setProgressMessage("Waiting for product package..."),Promise.then((function(t){console.log(t.data),!0===t.data.success&&(e.states.ProductOptionsAccordingToCategory=t.data.msg,e.states.progress.payNonElectricityBill=s.setSuccessMessage("Package loaded"))}),(function(t){console.log(t),e.states.progress.payNonElectricityBill=t.statusText}))},e.getBouquetPricing=function(){package_or_bouquet=e.models.package_or_bouquet,console.log(package_or_bouquet),e.states.package_or_bouquet_currency=package_or_bouquet.currency,e.states.package_or_bouquet_amount=parseFloat((+package_or_bouquet.price).toFixed(2))},e.getBillServices=function(s){t.get(s).then((function(t){console.log(t.data),!0===t.data.success&&(e.states.BillServices=t.data.msg)}),(function(e){console.log(e)}))},e.reactToBillSelection=function(o){let r=e.models.service_type.service_id;const a=e.states.billServiceOptionOfType+"/"+r+"/"+e.states.authToken;e.states.progress.VerifyMeterNoformProgressNotif=s.setProgressMessage("Loding options..."),Promise=t.get(a),Promise.then((function(t){console.log(t.data),e.states.BillServicesOptions=[],!0===t.data.success?(e.states.BillServicesOptions=t.data.msg,e.states.progress.VerifyMeterNoformProgressNotif=s.setSuccessMessage("Options Loaded")):e.states.progress.VerifyMeterNoformProgressNotif=s.setErrorMessage(t.data.msg)}),(function(t){e.states.progress.VerifyMeterNoformProgressNotif=s.setErrorMessage(t.statusText)}))},e.payNonElectricityBill=function(r){if(o.confirm("Confirm bill transaction")){r.preventDefault(),item=r.target,url=item.getAttribute("data-url"),item.setAttribute("disabled","disabled"),"0"==e.models.has_product_list?$product_option_code=e.states.package_or_bouquet_amount:$product_option_code=e.models.package_or_bouquet.code;let o={product_option_code:$product_option_code,smartcardno:e.models.smartcard,has_product_list:e.models.has_product_list,amount:+e.states.package_or_bouquet_amount,product_id:e.states.product_id,service_id:e.states.service_id};o.timestamp=Date.now()||Date.getTime(),o=JSON.stringify(o);const a={"Content-Type":"application/json"};e.states.progress.payNonElectricityBill=s.setProgressMessage("Waiting for server response..."),t.post(url,o,a).then((function(t){console.log(t.data),1==t.data.success?(e.states.progress.payNonElectricityBill=s.setSuccessMessage(t.data.msg),e.states.tradeReceipt=t.data.receipt,$("#TradeReceiptModal").modal("show")):e.states.progress.payNonElectricityBill=s.setErrorMessage(t.data.msg),item.removeAttribute("disabled")}),(function(t){item.removeAttribute("disabled"),e.states.progress.payNonElectricityBill=s.setErrorMessage(t.statusText),console.log(t)}))}},e.payForData=function(r){if(o.confirm("Confirm data purchase")){r.preventDefault(),item=r.target;const o=item.getAttribute("data-url");item.setAttribute("disabled","disabled");let a={network_provider:e.states.carrrier_name,phone:e.models.phone,product_id:e.models.data_product.id};a.timestamp=Date.now()||Date.getTime(),a=JSON.stringify(a);const i={"Content-Type":"application/json"};e.states.progress.PayForDataformProgressNotif=s.setProgressMessage("Waiting for server response..."),t.post(o,a,i).then((function(t){console.log(t.data),1==t.data.success?e.states.progress.PayForDataformProgressNotif=s.setSuccessMessage(t.data.msg):e.states.progress.PayForDataformProgressNotif=s.setErrorMessage(t.data.msg),item.removeAttribute("disabled")}),(function(t){item.removeAttribute("disabled"),e.states.progress.PayForDataformProgressNotif=s.setErrorMessage(t.statusText),console.log(t)}))}}}